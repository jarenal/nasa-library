(self.webpackChunk=self.webpackChunk||[]).push([[143],{3578:(e,t,n)=>{"use strict";var a=n(3138),o=n(5166),i={class:"container text-center"},r={class:"row"},s={class:"offset-3 col-6 align-self-center mb-3 mt-5"},l=(0,o._)("h3",{class:"mb-5"},"Nasa Library Seeker!",-1),c={class:"row"},u={class:"col"};n(4043),n(1514);var d={class:"input-group mb-3"},m=["disabled"],p=["disabled"],f={class:"form-check form-check-inline"},v=(0,o._)("label",{class:"form-check-label",for:"media-type-images"}," Images ",-1),y={class:"form-check form-check-inline"},b=(0,o._)("label",{class:"form-check-label",for:"media-type-videos"}," Videos ",-1);n(560),n(6203);var h=n(989),g=n(1257);const _={setup:function(){var e=(0,h.oR)(),t=(0,o.iH)(""),n=(0,o.iH)(!0),a=(0,o.iH)(!0),i=(0,o.iH)(!1),r=(0,o.iH)(!1),s=(0,o.iH)(!1);return{query:t,search:function(n){n.preventDefault();var a=[];i.value&&a.push("image"),r.value&&a.push("audio"),s.value&&a.push("video"),g.Z.get("/api/search",{params:{query:t.value,media_type:a.join(",")}}).then((function(t){e.commit("updateItems",t.data)})).catch()},isDisabledSearchButton:n,isDisabledResetButton:a,handleFormModified:function(){t.value&&(i.value||r.value||s.value)?n.value=!1:n.value=!0,a.value=!1},isImagesChecked:i,isAudiosChecked:r,isVideosChecked:s,reset:function(){event.preventDefault(),t.value="",i.value=!1,r.value=!1,s.value=!1,e.commit("updateItems",[]),n.value=!0,a.value=!0}}}};var w=n(3744);const k=(0,w.Z)(_,[["render",function(e,t,n,a,i,r){return(0,o.wg)(),(0,o.iD)("form",{onInput:t[5]||(t[5]=function(){return a.handleFormModified&&a.handleFormModified.apply(a,arguments)}),onChange:t[6]||(t[6]=function(){return a.handleFormModified&&a.handleFormModified.apply(a,arguments)})},[(0,o._)("div",d,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control",name:"query","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.query=e})},null,512),[[o.nr,a.query]]),(0,o._)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=function(){return a.reset&&a.reset.apply(a,arguments)}),disabled:a.isDisabledResetButton},"Cancel",8,m),(0,o._)("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return a.search&&a.search.apply(a,arguments)}),disabled:a.isDisabledSearchButton},"Search",8,p)]),(0,o._)("div",f,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"media-type-images","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.isImagesChecked=e})},null,512),[[o.e8,a.isImagesChecked]]),v]),(0,o._)("div",y,[(0,o.wy)((0,o._)("input",{class:"form-check-input",type:"checkbox",value:"",id:"media-type-videos","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.isVideosChecked=e})},null,512),[[o.e8,a.isVideosChecked]]),b])],32)}]]);var C={class:"d-flex justify-content-center flex-wrap"},O=["src"],M={class:"card-body"},D={class:"card-title"},j=["onClick"];n(9373),n(9903),n(9749),n(6544),n(228),n(1057),n(8932),n(9288),n(739),n(9358),n(8077),n(1919),n(9693),n(7522),n(9474),n(5082),n(4254),n(752),n(1694),n(6265);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==P(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H={setup:function(){var e=(0,h.oR)(),t=(0,o.Fl)((function(){return e.state.items}));e.subscribe((function(e,t){"updateAsset"===e.type&&t.asset.showModal&&new a.u_("#assetModal").show()}));return{items:t,openModal:function(t){e.commit("updateAsset",R(R({},t),{},{media:"https://dummyimage.com/600x400/000/fff.png&text=+",showModal:!1})),g.Z.get("/api/asset/"+t.nasa_id).then((function(n){e.commit("updateAsset",R(R({},t),{},{media:n.data[0],showModal:!0}))})).catch()}}}},A=(0,w.Z)(H,[["render",function(e,t,n,a,i,r){return(0,o.wg)(),(0,o.iD)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.items,(function(e,t){return(0,o.wg)(),(0,o.iD)("div",{key:t,class:"card m-3",style:{width:"18rem"}},[(0,o._)("img",{src:e.image,class:"card-img-top"},null,8,O),(0,o._)("div",M,[(0,o._)("h5",D,(0,o.zw)(e.title),1),(0,o._)("button",{class:"btn btn-primary",onClick:function(t){return a.openModal(e)}},"Open",8,j)])])})),128))])}]]);var I={id:"assetModal",class:"modal",tabindex:"-1"},V={class:"modal-dialog modal-dialog-centered"},Z={class:"modal-content"},q={class:"modal-header"},F={class:"modal-title"},B=(0,o._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),W={class:"modal-body"},z={key:0},E=["src","alt"],U={key:1},Y={class:"mt-3"},N={class:"modal-footer"};var T=n(4335),K=n(8609),L=n(9755);const G={components:{VideoPlayer:T.Y7},setup:function(){var e=(0,h.oR)(),t=(0,o.Fl)((function(){return e.state.asset})),n=(0,o.iH)(null);return{item:t,closeModal:function(){if("video"===t.value.media_type){var e=n.value;(0,K.Z)(e).pause()}L("#assetModal").hide(),L(".modal-backdrop.show").remove();var a=L("body");a.removeClass(),a.removeAttr("style")},onPlayerReady:function(e){n.value=e.target}}}},J={components:{ResultsComponent:A,SeekerComponent:k,AssetModalComponent:(0,w.Z)(G,[["render",function(e,t,n,a,i,r){var s=(0,o.up)("video-player");return(0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("div",V,[(0,o._)("div",Z,[(0,o._)("div",q,[(0,o._)("h5",F,(0,o.zw)(a.item.title),1),B]),(0,o._)("div",W,["image"===a.item.media_type?((0,o.wg)(),(0,o.iD)("div",z,[(0,o._)("img",{src:a.item.media,class:"card-img-top",alt:a.item.title},null,8,E)])):(0,o.kq)("v-if",!0),"video"===a.item.media_type?((0,o.wg)(),(0,o.iD)("div",U,[(0,o.Wm)(s,{ref:"myPlayer",src:a.item.media,controls:"",volume:.6,width:400,autoplay:!0,onReady:a.onPlayerReady},null,8,["src","onReady"])])):(0,o.kq)("v-if",!0),(0,o._)("p",Y,(0,o.zw)(a.item.description),1)]),(0,o._)("div",N,[(0,o._)("button",{type:"button",class:"btn btn-secondary",onClick:t[0]||(t[0]=function(){return a.closeModal&&a.closeModal.apply(a,arguments)})},"Close")])])])])}]])}},Q=(0,w.Z)(J,[["render",function(e,t,n,a,d,m){var p=(0,o.up)("SeekerComponent"),f=(0,o.up)("ResultsComponent"),v=(0,o.up)("AssetModalComponent");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,[(0,o._)("div",r,[(0,o._)("div",s,[l,(0,o.Wm)(p)])]),(0,o._)("div",c,[(0,o._)("div",u,[(0,o.Wm)(f)])])]),(0,o.Wm)(v)],64)}]]);const X=(0,h.MT)({state:function(){return{items:[],asset:{nasa_id:"",title:"",description:"",media:"",media_type:"",showModal:!1}}},mutations:{updateItems:function(e,t){e.items=t},updateAsset:function(e,t){e.asset=t}}});var $=(0,o.ri)(Q);$.use(X),$.use(T.ZP),$.mount("#app")},5893:()=>{}},e=>{e.O(0,[597],(()=>{return t=3578,e(e.s=t);var t}));e.O()}]);